"use strict";(self.webpackChunk_zjlab_fe_data_hub_ui=self.webpackChunk_zjlab_fe_data_hub_ui||[]).push([[102],{69102:(n,r,e)=>{e.r(r),e.d(r,{default:()=>s});const s="# PermissionEditor æƒé™ç¼–è¾‘å™¨\r\n\r\nä¸€ä¸ªç”¨äºç¼–è¾‘ç”¨æˆ·æƒé™çš„ React ç»„ä»¶ï¼Œæ”¯æŒåˆ†å±‚çº§çš„æƒé™é€‰æ‹©ï¼ŒåŒ…å«çˆ¶çº§æƒé™å’Œå­çº§æƒé™çš„è”åŠ¨é€»è¾‘ã€‚\r\n\r\n## åŠŸèƒ½ç‰¹æ€§\r\n\r\n- ğŸ·ï¸ **åˆ†å±‚çº§æƒé™ç®¡ç†**ï¼šæ”¯æŒçˆ¶å­çº§æƒé™ç»“æ„\r\n- ğŸ”’ **åªè¯»æƒé™æ§åˆ¶**ï¼šéƒ¨åˆ†æƒé™å¯è®¾ä¸ºåªè¯»çŠ¶æ€\r\n- ğŸ”„ **æ™ºèƒ½è”åŠ¨**ï¼šçˆ¶å­çº§æƒé™è‡ªåŠ¨è”åŠ¨é€‰æ‹©\r\n- âœï¸ **å¯ç¼–è¾‘æ§åˆ¶**ï¼šæ”¯æŒæ•´ä½“ç¼–è¾‘çŠ¶æ€çš„æ§åˆ¶\r\n- ğŸ“± **å“åº”å¼å¸ƒå±€**ï¼šè‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸\r\n\r\n\r\n## ä½¿ç”¨æ–¹æ³•\r\n\r\n### åŸºç¡€ç”¨æ³•\r\n\r\n```tsx\r\nimport React, { useState } from 'react';\r\nimport PermissionEditor from './components/permission-editor/permissionEditor';\r\n\r\nconst App = () => {\r\n  const [permissions, setPermissions] = useState([\r\n    {\r\n      module: 'workbench',\r\n      grentedList: ['1', '3'], // éƒ¨åˆ†å­æƒé™è¢«é€‰ä¸­\r\n    },\r\n    {\r\n      module: 'agentic',\r\n      grentedList: [], // æ— å­æƒé™çš„æ¨¡å—\r\n    },\r\n  ]);\r\n\r\n  const handlePermissionChange = (newPermissions) => {\r\n    console.log('æƒé™å˜æ›´:', newPermissions);\r\n    setPermissions(newPermissions);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h2>ç”¨æˆ·æƒé™è®¾ç½®</h2>\r\n      <PermissionEditor\r\n        initialPermissions={permissions}\r\n        onChange={handlePermissionChange}\r\n        editable={true}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n```\r\n\r\n### åªè¯»æ¨¡å¼\r\n\r\n```tsx\r\n<PermissionEditor\r\n  initialPermissions={userPermissions}\r\n  editable={false}\r\n/>\r\n```\r\n## ä»£ç æ¼”ç¤º\r\n\r\n<demo src=\"@/components/permission-editor/demo/index.tsx\"></demo>\r\n\r\n## API\r\n\r\n### Props\r\n\r\n| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |\r\n|------|------|--------|------|\r\n| `initialPermissions` | `PermissionModule[]` | `[]` | åˆå§‹æƒé™æ•°æ® |\r\n| `onChange` | `(permissions: PermissionModule[]) => void` | - | æƒé™å˜åŒ–æ—¶çš„å›è°ƒå‡½æ•° |\r\n| `editable` | `boolean` | `true` | æ˜¯å¦å¯ç¼–è¾‘ï¼Œä¸º `false` æ—¶ç»„ä»¶ä¸ºåªè¯»çŠ¶æ€ |\r\n\r\n## ğŸ—‚ æ•°æ®ç»“æ„\r\n\r\n### PermissionModule æ¥å£\r\n\r\n```typescript\r\ninterface PermissionModule {\r\n  module: string;        // æƒé™æ¨¡å—æ ‡è¯†ç¬¦\r\n  grentedList: string[]; // å·²æˆæƒçš„å­æƒé™åˆ—è¡¨\r\n}\r\n```\r\n\r\n### æƒé™é…ç½®ç»“æ„\r\nå¦‚éœ€ä¿®æ”¹é¡µé¢ä¸­çš„æƒé™å†…å®¹ï¼Œå¦‚æ–°å¢æˆ–åˆ å‡ï¼Œè¯·ä¿®æ”¹ä»¥ä¸‹é…ç½®å†…å®¹\r\n```typescript\r\nconst permissionTags = [\r\n  {\r\n    label: 'æ™ºèƒ½ä½“æƒé™',    // æ˜¾ç¤ºåç§°\r\n    value: 'agentic',      // æƒé™æ ‡è¯†ç¬¦\r\n    readOnly: false,       // æ˜¯å¦åªè¯»\r\n    children: [],          // å­æƒé™ï¼ˆç©ºæ•°ç»„è¡¨ç¤ºæ— å­æƒé™ï¼‰\r\n  },\r\n  {\r\n    label: 'å·¥ä½œå°æƒé™',\r\n    value: 'workbench',\r\n    readOnly: false,\r\n    children: [\r\n      {\r\n        label: 'å¯è§†åŒ–å·¥ä½œæµ',\r\n        value: '1',\r\n        readOnly: false,\r\n      },\r\n      {\r\n        label: 'Notebook',\r\n        value: '2',\r\n        readOnly: true,     // åªè¯»æƒé™ï¼Œç”¨æˆ·æ— æ³•ä¿®æ”¹\r\n      },\r\n      // ... æ›´å¤šå­æƒé™\r\n    ],\r\n  },\r\n];\r\n```\r\n\r\n### æ•°æ®ç¤ºä¾‹\r\n\r\n```typescript\r\n// è¾“å…¥æ•°æ®æ ¼å¼\r\nconst initialPermissions = [\r\n  {\r\n    module: 'workbench',\r\n    grentedList: ['1', '3', '4'], // é€‰ä¸­äº†éƒ¨åˆ†å­æƒé™\r\n  },\r\n  {\r\n    module: 'agentic',\r\n    grentedList: [], // æ— å­æƒé™çš„æ¨¡å—ï¼Œçˆ¶çº§è¢«é€‰ä¸­\r\n  },\r\n];\r\n\r\n// è¾“å‡ºæ•°æ®æ ¼å¼ï¼ˆonChange å›è°ƒï¼‰\r\nconst outputPermissions = [\r\n  {\r\n    module: 'workbench',\r\n    grentedList: ['1', '3', '4', '5'], // æ–°å¢äº†æƒé™ '5'\r\n  },\r\n  {\r\n    module: 'agentic',\r\n    grentedList: [], // ä¾ç„¶ä¿æŒä¸ºæ— å­æƒé™çŠ¶æ€\r\n  },\r\n];\r\n```\r\n\r\n## ğŸ”„ äº¤äº’é€»è¾‘\r\n\r\n### çˆ¶å­çº§è”åŠ¨è§„åˆ™\r\n\r\n1. **é€‰ä¸­çˆ¶çº§æƒé™**ï¼š\r\n   - è‡ªåŠ¨é€‰ä¸­æ‰€æœ‰éåªè¯»çš„å­çº§æƒé™\r\n   - åªè¯»å­æƒé™ä¿æŒåŸçŠ¶æ€ä¸å˜\r\n\r\n2. **å–æ¶ˆçˆ¶çº§æƒé™**ï¼š\r\n   - è‡ªåŠ¨å–æ¶ˆæ‰€æœ‰å­çº§æƒé™ï¼ˆåŒ…æ‹¬åªè¯»ï¼‰\r\n   - è¯¥æ¨¡å—ä»æƒé™åˆ—è¡¨ä¸­ç§»é™¤\r\n\r\n3. **é€‰ä¸­å­çº§æƒé™**ï¼š\r\n   - å¦‚æœæ‰€æœ‰å¯é€‰å­çº§éƒ½è¢«é€‰ä¸­ï¼Œè‡ªåŠ¨é€‰ä¸­çˆ¶çº§\r\n   - å¦‚æœéƒ¨åˆ†å­çº§è¢«é€‰ä¸­ï¼Œçˆ¶çº§ä¿æŒæœªé€‰ä¸­çŠ¶æ€\r\n\r\n4. **å–æ¶ˆå­çº§æƒé™**ï¼š\r\n   - å¦‚æœçˆ¶çº§åŸæœ¬è¢«é€‰ä¸­ï¼Œè‡ªåŠ¨å–æ¶ˆçˆ¶çº§é€‰ä¸­çŠ¶æ€\r\n   - å¦‚æœæ‰€æœ‰å­çº§éƒ½è¢«å–æ¶ˆï¼Œè¯¥æ¨¡å—ä»æƒé™åˆ—è¡¨ä¸­ç§»é™¤\r\n\r\n\r\n## ç›¸å…³ç»„ä»¶\r\n\r\n### PermissionEditModal æƒé™ç¼–è¾‘å¼¹çª—\r\n\r\nåŸºäº PermissionEditor æ„å»ºçš„æ¨¡æ€æ¡†ç»„ä»¶ï¼Œæä¾›å®Œæ•´çš„æƒé™ç¼–è¾‘ç•Œé¢ã€‚\r\n\r\n#### åŠŸèƒ½ç‰¹æ€§\r\n\r\n- ğŸ“‹ **æ¨¡æ€æ¡†å½¢å¼**ï¼šä»¥å¼¹çª—æ–¹å¼å±•ç¤ºæƒé™ç¼–è¾‘å™¨\r\n- ğŸ’¾ **ç¡®è®¤/å–æ¶ˆæ“ä½œ**ï¼šæä¾›ä¿å­˜å’Œå–æ¶ˆæŒ‰é’®\r\n- ğŸ”„ **çŠ¶æ€ç®¡ç†**ï¼šå†…ç½®æƒé™å˜æ›´çš„çŠ¶æ€ç®¡ç†\r\n\r\n#### ä½¿ç”¨æ–¹æ³•\r\n\r\n```tsx\r\nimport React, { useState } from 'react';\r\nimport { Button } from 'antd';\r\nimport PermissionEditModal from '../permissionEditModal';\r\n\r\nconst UserManagement = () => {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [userPermissions, setUserPermissions] = useState([\r\n    {\r\n      module: 'workbench',\r\n      grentedList: ['1', '3'],\r\n    }\r\n  ]);\r\n\r\n  const handleSave = (permissions) => {\r\n    setUserPermissions(permissions);\r\n    setModalVisible(false);\r\n    console.log('ä¿å­˜æƒé™:', permissions);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={() => setModalVisible(true)}>\r\n        ç¼–è¾‘æƒé™\r\n      </Button>\r\n      \r\n      <PermissionEditModal\r\n        open={modalVisible}\r\n        initialPermissions={userPermissions}\r\n        onSave={handleSave}\r\n        onCancel={handleCancel}\r\n      />\r\n    </>\r\n  );\r\n};\r\n```\r\n\r\n#### API\r\n\r\n| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |\r\n|------|------|--------|------|\r\n| `open` | `boolean` | `false` | æ§åˆ¶å¼¹çª—æ˜¾ç¤º/éšè— |\r\n| `initialPermissions` | `PermissionModule[]` | `[]` | åˆå§‹æƒé™åˆ—è¡¨ |\r\n| `onSave` | `(permissions: PermissionModule[]) => void` | - | ä¿å­˜æƒé™æ—¶çš„å›è°ƒ |\r\n| `onCancel` | `() => void` | - | å–æ¶ˆç¼–è¾‘æ—¶çš„å›è°ƒ |\r\n\r\n---\r\n\r\n### PermissionViewPopover æƒé™æŸ¥çœ‹æ°”æ³¡å¡ç‰‡\r\n\r\nç”¨äºå±•ç¤ºç”¨æˆ·æƒé™çš„è½»é‡çº§æ°”æ³¡ç»„ä»¶ï¼Œæ”¯æŒå¿«é€ŸæŸ¥çœ‹æƒé™è¯¦æƒ…ã€‚\r\n\r\n#### åŠŸèƒ½ç‰¹æ€§\r\n\r\n- ğŸ‘ï¸ **åªè¯»å±•ç¤º**ï¼šä»¥åªè¯»æ¨¡å¼å±•ç¤ºç”¨æˆ·æƒé™\r\n- ğŸˆ **æ°”æ³¡å½¢å¼**ï¼šè½»é‡çº§çš„æ°”æ³¡å¡ç‰‡å±•ç¤º\r\n- ğŸ“± **ç´§å‡‘å¸ƒå±€**ï¼šé€‚åˆåœ¨åˆ—è¡¨ã€è¡¨æ ¼ä¸­ä½¿ç”¨\r\n\r\n#### ä½¿ç”¨æ–¹æ³•\r\n\r\n```tsx\r\nimport React from 'react';\r\nimport { Button, Tag } from 'antd';\r\nimport PermissionViewPopover from '../permissionViewPopover';\r\n\r\nconst UserList = () => {\r\n  const userPermissions = [\r\n    {\r\n      module: 'workbench',\r\n      grentedList: ['1', '3', '4'],\r\n    },\r\n    {\r\n      module: 'agentic',\r\n      grentedList: [],\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      {/* æŒ‰é’®è§¦å‘æ–¹å¼ */}\r\n      <PermissionViewPopover permissions={userPermissions}>\r\n        <Button type=\"link\">æŸ¥çœ‹æƒé™</Button>\r\n      </PermissionViewPopover>\r\n\r\n      {/* æ ‡ç­¾è§¦å‘æ–¹å¼ */}\r\n      <PermissionViewPopover permissions={userPermissions}>\r\n        <Tag color=\"blue\">æƒé™è¯¦æƒ…</Tag>\r\n      </PermissionViewPopover>\r\n    </div>\r\n  );\r\n};\r\n```\r\n\r\n#### API\r\n\r\n| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |\r\n|------|------|--------|------|\r\n| `initialPermissions` | `PermissionModule[]` | `[]` | è¦å±•ç¤ºçš„æƒé™åˆ—è¡¨ |\r\n| `children` | `React.ReactNode` | - | è§¦å‘å…ƒç´  |\r\n| `title` | `string` | `\"æƒé™è¯¦æƒ…\"` | æ°”æ³¡æ ‡é¢˜ |\r\n\r\n\r\n\r\n"}}]);